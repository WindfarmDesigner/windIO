Nacelle
====================

Like the hub, the field :code:`nacelle` describes the nacelle system by borrowing from the way WISDEM and its module DrivetrainSE designs the drivetrain. The two fields :code:`drivetrain` and :code:`generator` are defined. In addition, equivalent elastic properties can be added to the field :code:`elastic_properties_mb`.

.. literalinclude:: ../../test/turbine/IEA-15-240-RWT.yaml
    :start-after: nacelle
    :end-before: tower

drivetrain 
-------------------
:code:`uptilt` : Float, rad
    Angle between the main shaft and the horizontal plane. This is defined positive for both standard upwind and downwind turbines.

:code:`distance_tt_hub` : Float, m
    Vertical distance between the top of the tower and the hub center.

:code:`overhang` : Float, m
    Horizontal distance between the axis of the tower and the hub center.

:code:`length` : Float, m
    Length of the nacelle, defined along the main shaft.

:code:`height` : Float, m
    Height of the nacelle, defined along the direction perpendicular to the main shaft.

:code:`width` : Float, m
    Width of the nacelle, defined horizontal and perpendicular to the main shaft.

:code:`drag_coefficient` : Float
    This is the equivalent drag coefficient used to compute the aerodynamic forces generated by the nacelle immersed in the flow. Standard aeroelastic solvers use this parameter.

:code:`gear_ratio` : Float
    Gear ratio of the gearbox. For direct drive generators, set this to 1.

:code:`gearbox_efficiency` : Float
    Efficiency of the gearbox. This value is often around 0.95.
    
:code:`elastic_properties_mb.system_mass` : Float, kg
    This is the overall mass of the nacelle system, which includes the main shaft, the drivetrain system, the generator, the nacelle cover, etc. This does not include the yaw system.

:code:`elastic_properties_mb.yaw_mass` : Float, kg
    Mass of the yaw system.

:code:`elastic_properties_mb.system_center_mass` : Float, m
    These are the coordinates of the center of mass of the nacelle, defined in yaw-aligned coordinate system, which has x horizontal pointing downwind, y horizontal pointing laterally, and z pointing vertically upwards.

:code:`elastic_properties_mb.system_inertia` : Array (6) of floats, kg*m2
    Mass moments of inertia of the nacelle system. Ixx, Iyy, Izz, Ixy, Ixz, Iyz are expressed in the yaw-aligned coordinate system.

:code:`elastic_properties_mb.system_inertia_tt` : Array (6) of floats, kg*m2
    Mass moments of inertia of the nacelle system. Ixx, Iyy, Izz, Ixy, Ixz, Iyz are expressed in the tower top coordinate system.

generator 
-------------------
Work in progress.